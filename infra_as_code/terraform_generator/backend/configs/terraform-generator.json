{
    "terraform_version": "1.0.0",
    "providers": [
        {
            "name": "azurerm",
            "source": "hashicorp/azurerm",
            "version": "~> 4.10.0",
            "auth_variables": {
                "client_id": "309fadf3-29d4-44ee-9f0c-5fc2a0ebf3e4",
                "client_secret": "zu78Q~tGdMUDhezzqQqZP3NPg1J1YQh4tF5E0cb.",
                "subscription_id": "bad141db-d381-4c5d-9092-410c750672d5",
                "tenant_id": "72580bc0-52ef-4264-b45d-c6d2b0eb1810"
            }
        },
        {
            "name": "aws",
            "source": "hashicorp/aws",
            "version": "~> 5.0",
            "auth_variables": {
                "web_identity_token_file": "/path/to/aws/oidc/token/file",
                "role_arn": "arn:aws:iam::123456789012:role/OIDCProviderRole",
                "region": "us-west-2"
            }
        },
        {
            "name": "google",
            "source": "hashicorp/google",
            "version": "~> 4.0",
            "auth_variables": {
                "workload_identity_pool_provider": "projects/123456789012/locations/global/workloadIdentityPools/my-pool/providers/my-provider",
                "service_account_email": "my-service-account@my-project.iam.gserviceaccount.com",
                "project_id": "my-gcp-project",
                "region": "us-central1"
            }
        }
    ],
    "backend": {
        "resource_group_name": "rg-terraform-acme-prod",
        "storage_account_name": "stterraformacmeprod",
        "container_name": "tfstate",
        "key": "terraform.tfstate",
        "subscription_id": "bad141db-d381-4c5d-9092-410c750672d5",
        "tenant_id": "72580bc0-52ef-4264-b45d-c6d2b0eb1810",
        "client_id": "309fadf3-29d4-44ee-9f0c-5fc2a0ebf3e4",
        "AccessKey": "tlPe6yRYKRnPY3ZzOB5R8U3KtfIWZGO2mHziYi99HwL/f/y6JnZZorrUfhRX6t9hQXGr+v2NreT++AStXSrS8w=="
    },
    "modules": [
        {
          "module_name": "resource_group",
          "source": "./modules/resource_group",
          "variables": {
            "name": {
              "type": "string",
              "description": "Name of the resource group"
            },
            "location": {
              "type": "string",
              "description": "Location for the resource group"
            }
          },
          "outputs": {
            "name": {
              "value": "azurerm_resource_group.example.name"
            },
            "location": {
              "value": "azurerm_resource_group.example.location"
            }
          }
        },
        {
          "module_name": "vnet",
          "source": "./modules/vnet",
          "variables": {
            "name": {
              "type": "string",
              "description": "Name of the virtual network"
            },
            "location": {
              "type": "string",
              "description": "Location of the virtual network"
            },
            "resource_group_name": {
              "type": "string",
              "description": "Name of the resource group"
            },
            "address_space": {
              "type": "list(string)",
              "description": "Address space for the virtual network"
            },
            "dns_servers": {
              "type": "list(string)",
              "description": "DNS servers for the virtual network"
            },
            "tags": {
              "type": "map(string)",
              "description": "Tags for the virtual network"
            }
          },
          "depends_on": ["resource_group"]
        }
    ],
    "variables": {
        "azure_subscription_id": {
            "value": "000000-0000-0000-0000-000000000000",
            "type": "string",
            "description": "Azure Subscription ID",
            "sensitive": false
        },
        "azure_tenant_id": {
            "value": "000000-0000-0000-0000-000000000000",
            "type": "string",
            "description": "Azure Tenant ID",
            "sensitive": false
        },
        "azure_client_id": {
            "value": "000000-0000-0000-0000-000000000000",
            "type": "string",
            "description": "Azure Client ID",
            "sensitive": false
        },
        "azure_client_secret": {
            "value": "000000-0000-0000-0000-000000000000",
            "type": "string",
            "description": "Azure Client Secret",
            "sensitive": true
        },
        "aws_region": {
            "value": "us-west-2",
            "type": "string",
            "description": "AWS Region",
            "sensitive": false
        },
        "aws_role_arn": {
            "value": "arn:aws:iam::123456789012:role/OIDCProviderRole",
            "type": "string",
            "description": "AWS Role ARN",
            "sensitive": false
        },
        "aws_oidc_token_file": {
            "value": "/path/to/aws/oidc/token/file",
            "type": "string",
            "description": "AWS OIDC Token File",
            "sensitive": false
        },
        "gcp_project_id": {
            "value": "my-gcp-project",
            "type": "string",
            "description": "GCP Project ID",
            "sensitive": false
        },
        "gcp_region": {
            "value": "us-central1",
            "type": "string",
            "description": "GCP Region",
            "sensitive": false
        },
        "gcp_credentials_file": {
            "value": "/path/to/gcp/credentials.json",
            "type": "string",
            "description": "GCP Credentials File",
            "sensitive": true
        },
        "environment": {
            "value": "prod",
            "type": "string",
            "description": "The deployment environment",
            "sensitive": false
        },
        "region": {
            "value": "eastus",
            "type": "string",
            "description": "The deployment region",
            "sensitive": false
        }
    }
}